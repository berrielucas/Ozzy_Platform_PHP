import{a as z,u as A,o as $,d as f,e as d,r as n,b as O,c as B,w as s,i as r,j as u,h as l,z as E,g as J,q as P,v as j,t as L,A as D}from"./index-CyU7WMZp.js";const I={class:"body-login pa-10",style:{display:"flex",width:"100%",height:"100%","align-items":"center","justify-content":"center"}},M=u("div",{class:"text-subtitle-1 mb-10",style:{display:"flex","align-items":"center","justify-content":"center",gap:"1rem"}},[u("img",{src:D,alt:"Logo Ozzy",width:"30%"})],-1),R=u("button",{type:"submit"},"Criar conta",-1),q={class:"load"},G={__name:"RegisterClient",setup(F){const a=z(),y=A();$(()=>{a.auth&&(a.userLogado.type==="client"?y.push({name:"visitas-cliente"}):y.push({name:"visitas"}))});const c=f(!1),v=f(!1),m=f(""),_=JSON.stringify({nome:"",telefone1:"",telefone2:"",email:"",senha:"",logradouro:null,cep:"",numero:null,cidade:null,estado:"",cpf:""}),e=f(JSON.parse(_));d(()=>{e.value.cpf=a.formatCPF(e.value.cpf)}),d(async()=>{const i=await a.formatCEP(e.value.cep);e.value.cep=i.cep,i.dados!==null&&(e.value.estado=i.dados.state,e.value.cidade=i.dados.city,e.value.logradouro=i.dados.street)});const g=d(()=>{e.value.telefone1=a.formatPhone(e.value.telefone1)});d(()=>{e.value.telefone2=a.formatPhone(e.value.telefone2)}),d(()=>{e.value.estado=a.formatEstado(e.value.estado)});function w(){a.cadastrarCliente(e.value),y.push({name:"login-cliente"}),e.value=JSON.parse(_)}const V=d(()=>e.value.senha===""||m.value===""||e.value.senha!==m.value||e.value.nome===""||e.value.email===""||e.value.telefone1==="");return(i,o)=>{const p=n("v-text-field"),x=n("v-btn"),C=n("v-card-text"),b=n("v-col"),h=n("v-row"),k=n("v-progress-circular"),N=n("v-card"),S=n("v-snackbar"),U=n("v-app");return O(),B(U,{theme:r(a).theme},{default:s(()=>[u("div",I,[l(N,{class:"mx-auto pa-6",width:"400",elevation:"8",rounded:"lg",style:{display:"flex",position:"relative","overflow-y":"auto"}},{default:s(()=>[l(h,{dense:""},{default:s(()=>[l(b,{cols:"12"},{default:s(()=>[M,l(p,{modelValue:e.value.nome,"onUpdate:modelValue":o[0]||(o[0]=t=>e.value.nome=t),density:"compact",placeholder:"Nome *",variant:"outlined"},null,8,["modelValue"]),l(p,{modelValue:e.value.email,"onUpdate:modelValue":o[1]||(o[1]=t=>e.value.email=t),density:"compact",placeholder:"Email *",variant:"outlined"},null,8,["modelValue"]),l(p,{modelValue:e.value.telefone1,"onUpdate:modelValue":o[2]||(o[2]=t=>e.value.telefone1=t),update:g.value,"onUpdate:update":o[3]||(o[3]=t=>g.value=t),maxlength:"15",density:"compact",placeholder:"Celular *",variant:"outlined"},null,8,["modelValue","update"]),l(p,{"append-inner-icon":c.value?"mdi-eye":"mdi-eye-off",type:c.value?"text":"password",density:"compact",placeholder:"Senha *",variant:"outlined","onClick:appendInner":o[4]||(o[4]=t=>c.value=!c.value),modelValue:e.value.senha,"onUpdate:modelValue":o[5]||(o[5]=t=>e.value.senha=t)},null,8,["append-inner-icon","type","modelValue"]),l(p,{modelValue:m.value,"onUpdate:modelValue":o[6]||(o[6]=t=>m.value=t),"append-inner-icon":v.value?"mdi-eye":"mdi-eye-off",type:v.value?"text":"password",density:"compact",placeholder:"Confirme a senha *",variant:"outlined","onClick:appendInner":o[7]||(o[7]=t=>v.value=!v.value)},null,8,["modelValue","append-inner-icon","type"]),l(x,{disabled:V.value,class:E([V.value?"opacity-50":"","mb-5"]),size:"large",block:"",style:{"background-color":"var(--primary-color)",color:"white"},onClick:o[8]||(o[8]=t=>w())},{default:s(()=>[R]),_:1},8,["disabled","class"]),l(C,{class:"text-center"},{default:s(()=>[J(" JÃ¡ tem uma conta? "),u("a",{class:"text-decoration-none",rel:"noopener noreferrer",onClick:o[9]||(o[9]=t=>i.$router.push({name:"login-cliente"})),style:{color:"var(--primary-color)",cursor:"pointer"}},"Entrar")]),_:1})]),_:1})]),_:1}),P(u("div",q,[l(k,{indeterminate:"",size:37,style:{color:"var(--primary-color)"}})],512),[[j,r(a).loadLogin]])]),_:1})]),l(S,{modelValue:r(a).popupAlert,"onUpdate:modelValue":o[11]||(o[11]=t=>r(a).popupAlert=t),timeout:r(a).timeOutAlert,color:r(a).colorAlert},{actions:s(()=>[l(x,{variant:"text",icon:"mdi-window-close",onClick:o[10]||(o[10]=t=>r(a).popupAlert=!1),style:{color:"white"}})]),default:s(()=>[u("p",null,L(r(a).message),1)]),_:1},8,["modelValue","timeout","color"])]),_:1},8,["theme"])}}};export{G as default};
